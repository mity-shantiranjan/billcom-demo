
<html>
    <head>
        <link rel="stylesheet" href="vendor/hui/dist/css/hui.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

        <style>
            ha-page-message {
                height: 100%;
            }
        </style>

        <script>
            window.addEventListener("message", function(a) {
                if(a.origin.indexOf("intuit.com")>=1&&a.data&&a.data.initXDM)
                {
                    var b=document.createElement("script");
                    b.setAttribute("type","text/javascript");
                    b.innerHTML=a.data.initXDM;
                    document.getElementsByTagName("head")[0].appendChild(b);
                }
            });

            qboXDMReady = function() {
                qboXDM.getContext(function(context) {
                    if(context)
                    {
                        console.log(context.qbo.realmId);
                        if(context.qbo.pathname.indexOf('billpayment') != -1)
                        {
                            growHeight(100);
                        }
                    }
                });
            }

            execute = function(action, params){
                qboXDM.showSpinner();
            };

            expand = function(width, height){
                width = width || 0;
                height = height || 0;
                qboXDM.adjustFrameWidth(width + 'px');
                qboXDM.adjustFrameHeight(height + 'px');
            };

            growHeight = function(height){
                qboXDM.adjustFrameHeight(height + 'px');
            };

            collapse = function(){
                expand(0, 0)
            };

            showSimpleDialog = function(msg) {
                qboXDM.showOkDialog("Title", msg, function() { console.log("ok"); });
            };

            qboXDMReceiveMessage = function(message) {
                // for the message.eventName === "qbo-transaction"
                // message.data.id will have the id of the transaction
                // message.data.typeName will be invoice, bill, etc.
                if(message.eventName == "onLoad")
                    showSimpleDialog("onLoad event raised");

                if(message.eventName == "onBeforeSave")
                    showSimpleDialog("onBeforeSave event raised");

                //console.log(message.data);
            }
        </script>

    </head>
	<body>   

        <ha-page-message titleText="Info Title" type="info" dismissible="false">
            Lorem ipsum dolor sit amet...
        </ha-page-message>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/document-register-element/0.5.4/document-register-element.js"></script>
        <script type="text/javascript" data-main="InfoMessage" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.js"></script>
        
	</body>
</html>
