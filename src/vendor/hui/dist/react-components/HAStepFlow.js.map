{"version":3,"sources":["../../../react-components/HAStepFlow.jsx"],"names":[],"mappings":"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","file":"HAStepFlow.js","sourcesContent":["import React from \"react\";\nimport \"hui/step-flow\";\nimport {getReactTypeName} from \"hui/core/utils\";\n\nexport default class HAStepFlow extends React.Component {\n    static propTypes = {\n        children: function anonymous(props, propName, componentName) {\n            var prop = props[propName] || [],\n                types = [\"HAFlowStep\", \"HAFlowLanding\", \"HAFlowConfirmation\"],\n                typeName;\n            prop = Array.isArray(prop) ? prop : [prop];\n\n            if (!props.allowAllChildren) {\n                for (var child in prop) {\n                    typeName = getReactTypeName(prop[child]);\n                    // Only accept a single child, of the appropriate type\n                    if (types.indexOf(typeName) === -1) {\n                        return new Error(componentName + \"\\'s children can only be the following types: \" + types.join(\", \"));\n                    }\n                }\n            }\n        },\n        className: React.PropTypes.string,\n        id: React.PropTypes.string,\n        show: React.PropTypes.bool,\n        currentStep: React.PropTypes.number,\n        flow: React.PropTypes.string,\n        progressIndicator: React.PropTypes.bool,\n        startIndex: React.PropTypes.number,\n        nextButtonText: React.PropTypes.string,\n        previousButtonText: React.PropTypes.string,\n        doneButtonText: React.PropTypes.string,\n        landing: React.PropTypes.object,\n        steps: React.PropTypes.array,\n        confirmation: React.PropTypes.object,\n        disableAutoComplete: React.PropTypes.bool,\n        enableAnimateIn: React.PropTypes.bool,\n        closeParentTrowser: React.PropTypes.bool,\n        onNext: React.PropTypes.func,\n        onPrevious: React.PropTypes.func,\n        onDone: React.PropTypes.func,\n        onShow: React.PropTypes.func,\n        onClose: React.PropTypes.func,\n        onBeforeStep: React.PropTypes.func,\n        onAfterStep: React.PropTypes.func,\n        onStartSpinner: React.PropTypes.func,\n        onStopSpinner: React.PropTypes.func,\n        allowAllChildren: React.PropTypes.bool,\n        disableProgressIndicatorNavigation: React.PropTypes.bool\n    };\n\n    constructor(props) {\n        super(props);\n        this._huiComponent = null;\n        this._listeners = {};\n    }\n\n    componentDidMount() {\n        // force the web component to pick up React rendering components.\n        this._huiComponent.postRender();\n\n        if (this._huiComponent.show) {\n            this._huiComponent.show();\n        } else {\n            // on browsers that doesn't support custom elements natively,\n            // the component is not upgraded yet so show is not available, wait for event\n            const componentUpgraded = (event) => {\n                event.stopPropagation();\n                this._huiComponent.show();\n            };\n            this._listeners.componentUpgraded = componentUpgraded.bind(this);\n            this._huiComponent.addEventListener(\"component-upgraded\", this._listeners.componentUpgraded);\n        }\n\n        // Event handler for next\n        const onNext = (event) => {\n            if (this.props.onNext) {\n                this.props.onNext(event);\n            }\n        };\n        this._listeners.onNext = onNext.bind(this);\n        this._huiComponent.addEventListener(\"next\", this._listeners.onNext);\n\n        // Event handler for previous\n        const onPrevious = (event) => {\n            if (this.props.onPrevious) {\n                this.props.onPrevious(event);\n            }\n        };\n        this._listeners.onPrevious = onPrevious.bind(this);\n        this._huiComponent.addEventListener(\"previous\", this._listeners.onPrevious);\n\n        // Event handler for done\n        const onDone = (event) => {\n            if (this.props.onDone) {\n                this.props.onDone(event);\n            }\n        };\n        this._listeners.onDone = onDone.bind(this);\n        this._huiComponent.addEventListener(\"done\", this._listeners.onDone);\n\n        // Event handler for show\n        const onShow = (event) => {\n            if (this.props.onShow) {\n                this.props.onShow(event);\n            }\n        };\n        this._listeners.onShow = onShow.bind(this);\n        this._huiComponent.addEventListener(\"show\", this._listeners.onShow);\n\n        // Event handler for close\n        const onClose = (event) => {\n            if (this.props.onClose) {\n                this.props.onClose(event);\n            }\n        };\n        this._listeners.onClose = onClose.bind(this);\n        this._huiComponent.addEventListener(\"close\",  this._listeners.onClose);\n\n        // Event handler for before-step\n        const onBeforeStep = (event) => {\n            if (this.props.onBeforeStep) {\n                this.props.onBeforeStep(event);\n            }\n        };\n        this._listeners.onBeforeStep = onBeforeStep.bind(this);\n        this._huiComponent.addEventListener(\"before-step\",  this._listeners.onBeforeStep);\n\n        // Event handler for after-step\n        const onAfterStep = (event) => {\n            if (this.props.onAfterStep) {\n                this.props.onAfterStep(event);\n            }\n        };\n        this._listeners.onAfterStep = onAfterStep.bind(this);\n        this._huiComponent.addEventListener(\"after-step\", this._listeners.onAfterStep);\n\n        // Event handler for start-spinner\n        const onStartSpinner = (event) => {\n            if (this.props.onStartSpinner) {\n                this.props.onStartSpinner(event);\n            }\n        };\n        this._listeners.onStartSpinner = onStartSpinner.bind(this);\n        this._huiComponent.addEventListener(\"start-spinner\", this._listeners.onStartSpinner);\n\n        // Event handler for stop-spinner\n        const onStopSpinner = (event) => {\n            if (this.props.onStopSpinner) {\n                this.props.onStopSpinner(event);\n            }\n        };\n        this._listeners.onStopSpinner = onStopSpinner.bind(this);\n        this._huiComponent.addEventListener(\"stop-spinner\", this._listeners.onStopSpinner);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if(this.props.show !== prevProps.show) {\n            if (this.props.show) {\n                this._huiComponent.show();\n            } else {\n                this._huiComponent.close();\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        this._huiComponent.removeEventListener(\"next\", this._listeners.onNext, false);\n        this._huiComponent.removeEventListener(\"previous\", this._listeners.onPrevious, false);\n        this._huiComponent.removeEventListener(\"done\", this._listeners.onDone, false);\n        this._huiComponent.removeEventListener(\"show\", this._listeners.onShow, false);\n        this._huiComponent.removeEventListener(\"close\", this._listeners.onClose, false);\n        this._huiComponent.removeEventListener(\"before-step\", this._listeners.onBeforeStep, false);\n        this._huiComponent.removeEventListener(\"after-step\", this._listeners.onAfterStep, false);\n        this._huiComponent.removeEventListener(\"start-spinner\", this._listeners.onStartSpinner, false);\n        this._huiComponent.removeEventListener(\"stop-spinner\", this._listeners.onStopSpinner, false);\n        this._huiComponent.removeEventListener(\"component-upgraded\", this._listeners.componentUpgraded, false);\n    }\n\n    handleRef = (c) => {\n        this._huiComponent = c;\n    };\n\n    render() {\n        /* jshint ignore:start */\n        return (\n            <ha-step-flow\n                ref={this.handleRef}\n                class={this.props.className}\n                {...this.props}>\n                {this.props.children}\n            </ha-step-flow>\n        );\n        /* jshint ignore:end */\n    }\n}\n"]}