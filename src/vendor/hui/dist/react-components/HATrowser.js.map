{"version":3,"sources":["../../../react-components/HATrowser.jsx"],"names":[],"mappings":"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","file":"HATrowser.js","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport HAPortal from \"./HAPortal\";\nimport \"hui/trowser/page-modal\";\n\nexport default class Trowser extends React.Component {\n\n    // check that the only children passed to this component are a HASection, or HAFooter\n    static propTypes = {\n        children: function (props, propName, componentName) {\n            var prop = props[propName] || [];\n            var types = ['HASection', 'HATrowserFooter'];\n            // handle single child prop http://facebook.github.io/react/tips/children-props-type.html\n            prop = Array.isArray(prop) ? prop : [prop];\n\n            for (var child in prop) {\n                // Only accept a single child, of the appropriate type\n                if (types.indexOf(prop[child].type.name) === -1) {\n                    return new Error(`${componentName}'s children can only have one instance of the following types: ${types.join(', ')}`);\n                } else {\n                    types[types.indexOf(prop[child].type.name)] = '';\n                }\n            }\n        },\n        className: React.PropTypes.string,\n        titleText: React.PropTypes.string,\n        infoText: React.PropTypes.string,\n        type: React.PropTypes.string,\n        settings: React.PropTypes.bool,\n        help: React.PropTypes.bool,\n        history: React.PropTypes.bool,\n        dismissible: React.PropTypes.bool,\n        autofocus: React.PropTypes.bool,\n        onShow: React.PropTypes.func,\n        onClose: React.PropTypes.func,\n        onDismiss: React.PropTypes.func\n    };\n\n    constructor(props) {\n        super(props);\n        this._trowser = null; // trowser DOM reference, set after render()\n        // keep track if we have set any event listeners on trowser\n        this._listeners = {};\n        this.showModal = props.show;\n    }\n\n    componentDidMount() {\n        if(this._trowser) {\n            this.removeWebRenderComp();\n            this.setState(() => { this.showModal = this.props.show });\n        }\n        this.mountTrowser();\n    }\n\n    componentDidUpdate(prevProps) {\n        this.mountTrowser(prevProps);\n    }\n\n    mountTrowser(prevProps = {}){\n        if(this._trowser && this.props.show !== prevProps.show) {\n            if (this.props.show) {\n                this.setupListeners();\n                if (this._trowser.show) {\n                    this._trowser.show();\n                } else {\n                    // on browsers that doesn't support custom elements natively,\n                    // the component is not upgraded yet so show is not available, wait for event\n                    const componentUpgraded = (event) => {\n                        event.stopPropagation();\n                        this._trowser.show();\n                    };\n                    this._listeners.componentUpgraded = componentUpgraded.bind(this);\n                    this._trowser.addEventListener(\"component-upgraded\", this._listeners.componentUpgraded);\n                }\n            } else if (prevProps.show) {\n                this._trowser.close(); // remove trowser from DOM using hui/trowser\n            }\n            // this.removeWebRenderComp();\n        }\n    }\n\n    removeWebRenderComp() {\n        let headerLeft,\n            headerCenter,\n            headerRight,\n            pageModal,\n            header,\n            pageModalChildren = this._trowser.querySelectorAll('.page-modal-panel');\n\n        if (pageModalChildren && pageModalChildren.length > 1) {\n            this._trowser.removeChild(pageModalChildren[0]);\n            pageModal = pageModalChildren[1];\n            header = pageModal.querySelector('ha-page-modal-header');\n            headerLeft = header.querySelectorAll('ha-page-modal-header > span.header-left');\n            headerCenter = header.querySelectorAll('ha-page-modal-header > span.header-center');\n            headerRight = header.querySelectorAll('ha-page-modal-header > span.header-right');\n            this.removeDuplicateChild(header, headerLeft);\n            this.removeDuplicateChild(header, headerCenter);\n            this.removeDuplicateChild(header, headerRight);\n            this.removeDuplicateHeaderItem(headerLeft);\n            this.removeDuplicateHeaderItem(headerCenter);\n            this.removeDuplicateHeaderItem(headerRight);\n        }\n    }\n\n    removeDuplicateChild(component, children) {\n        if (component && children && children.length > 1) {\n            component.removeChild(children[0]);\n        }\n    }\n\n    removeDuplicateHeaderItem(component) {\n        if (component && component.length > 1) {\n            let headerItems = Array.prototype.slice.call(component[1].querySelectorAll('ha-page-modal-header-item'));\n            headerItems.forEach(item => {\n                let headerBtn = item.querySelectorAll('button');\n                this.removeDuplicateChild(item, headerBtn);\n            });\n        }\n    }\n\n    setupListeners() {\n        if (Object.keys(this._listeners).length === 0) {\n            const onShow = (event) => {\n                event.stopPropagation();\n                if (this.props.onShow) {\n                    this.props.onShow(event);\n                }\n            };\n            this._listeners.onShow = onShow.bind(this);\n            this._trowser.addEventListener(\"show\", this._listeners.onShow);\n\n            const onClose = (event) => {\n                event.stopPropagation();\n                if (this.props.onClose) {\n                    this.props.onClose(event);\n                }\n                this.cleanUpListeners();\n            };\n            this._listeners.onClose = onClose.bind(this);\n            this._trowser.addEventListener(\"close\", this._listeners.onClose);\n\n            const onDismiss = (event) => {\n                event.stopPropagation();\n                if (this.props.onDismiss) {\n                    this.props.onDismiss(event);\n                }\n            };\n            this._listeners.onDismiss = onDismiss.bind(this);\n            this._trowser.addEventListener(\"dismiss\", this._listeners.onDismiss);\n        }\n    }\n\n    componentWillUnmount() {\n        // we might need a unmountPortal here depending on how applications handle dom rendering & routing\n        this.cleanUpListeners();\n    }\n\n    cleanUpListeners() {\n        // if we do not have a _modal then HAUnderlay destroys the event listeners\n        if (this._trowser) {\n            this._trowser.removeEventListener(\"show\", this._listeners.onShow, false); // clean up show listener\n            this._trowser.removeEventListener(\"close\", this._listeners.onClose, false); // clean up close listener\n            this._trowser.removeEventListener(\"dismiss\", this._listeners.onDismiss, false); // clean up dismiss listener\n            this._trowser.removeEventListener(\"component-upgraded\", this._listeners.componentUpgraded, false); // clean up component-upgraded listener\n        }\n        this._listeners = {};\n    }\n\n    get title() {\n        if (this.props.titleText) {\n            return (\n                <label className=\"title-text pull-left\">{this.props.titleText}</label>\n            );\n        }\n    }\n\n    get info() {\n        if (this.props.infoText) {\n            return (\n                <label className=\"info-text ghost-text pull-left\">{this.props.infoText}</label>\n            );\n        }\n    }\n\n    get history() {\n        if (this.props.history) {\n            return (\n                <ha-page-modal-header-item type=\"history\" icon=\"history\" position=\"left\" className=\"pull-left\">\n                    <button className=\"header-button btn btn-link\" aria-label=\"history\">\n                        <span className=\"hi hi-history\"></span>\n                    </button>\n                </ha-page-modal-header-item>\n            );\n        }\n    }\n\n    get settings() {\n        if (this.props.settings) {\n            return (\n                <ha-page-modal-header-item type=\"settings\" icon=\"settings-o\" position=\"right\">\n                    <button className=\"header-button btn btn-link\" aria-label=\"settings\">\n                        <span className=\"hi hi-settings-o\"></span>\n                    </button>\n                </ha-page-modal-header-item>\n            );\n        }\n    }\n\n    get help() {\n        if (this.props.help) {\n            return (\n                <ha-page-modal-header-item type=\"help\" icon=\"help-o\" position=\"right\">\n                    <button className=\"header-button btn btn-link\" aria-label=\"help\">\n                        <span className=\"hi hi-help-o\"></span>\n                    </button>\n                </ha-page-modal-header-item>\n            );\n        }\n    }\n\n    get closeBtn() {\n        return (\n            <ha-page-modal-header-item icon=\"close\" position=\"right\" type=\"close\" class=\"show\">\n                <button className=\"header-button btn btn-link\" aria-label=\"close\">\n                    <span className=\"hi hi-close\"></span>\n                </button>\n            </ha-page-modal-header-item>\n        );\n    }\n\n    handleRef = (c) => {\n        this._trowser = c;\n    };\n\n    render() {\n        /* jshint ignore:start */\n        return (\n            // renders .ha-underlay and trowser outside of parent react DOM tree\n            <HAPortal show={this.props.show}>\n                <ha-page-modal\n                    ref={this.handleRef}\n                    class={this.props.className}\n                    reactLayering={true}\n                    {...this.props}\n                >\n                    <div className=\"page-modal-panel\" aria-hidden={this.showModal}>\n                        <header>\n                            <ha-page-modal-header titleText={this.props.titleText} infoText={this.props.infoText} dismissible={this.props.dismissible}>\n                                <span className=\"header-left\">{this.history}</span>\n                                <span className=\"header-center\">{this.title}</span>\n                                <span className=\"header-right pull-right\">\n                                    {this.info}\n                                    {this.help}\n                                    {this.settings}\n                                    {this.closeBtn}\n                                </span>\n                            </ha-page-modal-header>\n                        </header>\n                        {React.Children.map(this.props.children, child => {\n                            if (child.type.name === \"HASection\") {\n                                return (<section key=\"1\" tabIndex=\"-1\">\n                                            {child}\n                                        </section>);\n                            } else if (child.type.name === \"HATrowserFooter\") {\n                                return (<footer key=\"2\" tabIndex=\"-1\">\n                                            {child}\n                                        </footer>);\n                            }\n                        })}\n                    </div>\n                </ha-page-modal>\n            </HAPortal>\n        );\n        /* jshint ignore:end */\n    }\n}\n"]}