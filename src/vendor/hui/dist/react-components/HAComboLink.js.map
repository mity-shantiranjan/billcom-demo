{"version":3,"sources":["../../../react-components/HAComboLink.jsx"],"names":[],"mappings":"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","file":"HAComboLink.js","sourcesContent":["import React from \"react\";\nimport \"hui/combo-link\";\nimport {getReactTypeName} from \"hui/core/utils\";\n\nexport default class HAComboLink extends React.Component {\n    static propTypes = {\n        children: function anonymous(props, propName, componentName) {\n            var prop = props[propName],\n                types = [\"HAItem\"],\n                typeName;\n\n            for (var child in prop) {\n                typeName = getReactTypeName(prop[child]);\n                // Only accept a single child, of the appropriate type\n                if (types.indexOf(typeName) === -1) {\n                    return new Error(componentName + \"\\'s children can only be the following types: \" + types.join(\", \"));\n                }\n            }\n\n        },\n        className: React.PropTypes.string,\n        label: React.PropTypes.string,\n        disabled: React.PropTypes.bool,\n        selectedIndex: React.PropTypes.number,\n        selectedItem: React.PropTypes.object,\n        items: React.PropTypes.array,\n        onClick: React.PropTypes.func,\n        onItemsClose: React.PropTypes.func,\n        onItemsShow: React.PropTypes.func,\n        onSelect: React.PropTypes.func\n    };\n\n    constructor(props) {\n        super(props);\n        this._huiComponent = null;\n        this._listeners = {};\n    }\n\n    componentDidMount() {\n        // With es6 syntax we have to bind the events to the react component instance\n        // https://facebook.github.io/react/docs/reusable-components.html#no-autobinding\n        // Event handler for click\n        const onClick = (event) => {\n            event.stopPropagation();\n            if (this.props.onClick) {\n                this.props.onClick(event);\n            }\n        };\n        this._listeners.onClick = onClick.bind(this);\n        this._huiComponent.addEventListener(\"click\", this._listeners.onClick);\n\n        // Event handler for items-close\n        const onItemsClose = (event) => {\n            event.stopPropagation();\n            if (this.props.onItemsClose) {\n                this.props.onItemsClose(event);\n            }\n        };\n        this._listeners.onItemsClose = onItemsClose.bind(this);\n        this._huiComponent.addEventListener(\"items-close\", this._listeners.onItemsClose);\n\n        // Event handler for items-show\n        const onItemsShow = (event) => {\n            event.stopPropagation();\n            if (this.props.onItemsShow) {\n                this.props.onItemsShow(event);\n            }\n        };\n        this._listeners.onItemsShow = onItemsShow.bind(this);\n        this._huiComponent.addEventListener(\"items-show\", this._listeners.onItemsShow);\n\n        // Event handler for select\n        const onSelect = (event) => {\n            event.stopPropagation();\n            if (this.props.onSelect) {\n                this.props.onSelect(event);\n            }\n        };\n        this._listeners.onSelect = onSelect.bind(this);\n        this._huiComponent.addEventListener(\"select\", this._listeners.onSelect);\n\n        // will re-render HA-ITEMS as HA-MENU-ITEMS for IE 11 fix\n        this.updateWebComponent();\n    }\n\n    updateWebComponent() {\n        let items = this._huiComponent.querySelectorAll(\"ha-item\");\n        if (items) {\n            this._huiComponent.items = Array.prototype.slice.call(items);\n        }\n    }\n\n    componentWillUnmount() {\n        this._huiComponent.removeEventListener(\"click\", this._listeners.onClick, false);\n        this._huiComponent.removeEventListener(\"items-close\", this._listeners.onItemsClose, false);\n        this._huiComponent.removeEventListener(\"items-show\", this._listeners.onItemsShow, false);\n        this._huiComponent.removeEventListener(\"select\", this._listeners.onSelect, false);\n    }\n\n    handleRef = (c) => {\n        this._huiComponent = c;\n    };\n\n    render() {\n        /* jshint ignore:start */\n        return (\n            <ha-combo-link\n                ref={this.handleRef}\n                class={this.props.className}\n                {...this.props}>\n                {this.props.children}\n            </ha-combo-link>\n        );\n        /* jshint ignore:end */\n    }\n}\n"]}