{"version":3,"sources":["../../../react-components/HASelect.jsx"],"names":[],"mappings":"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","file":"HASelect.js","sourcesContent":["import React from \"react\";\nimport \"hui/select\";\n\nexport default class HASelect extends React.Component {\n    static propTypes = {\n        className: React.PropTypes.string,\n        label: React.PropTypes.string,\n        placeholder: React.PropTypes.string,\n        icon: React.PropTypes.string,\n        name: React.PropTypes.string,\n        value: React.PropTypes.string,\n        items: React.PropTypes.array,\n        size: React.PropTypes.number,\n        selectedIndex: React.PropTypes.number,\n        selectedItem: React.PropTypes.object,\n        addNew: React.PropTypes.bool,\n        addNewPopover: React.PropTypes.object,\n        addNewText: React.PropTypes.string,\n        disabled: React.PropTypes.bool,\n        required: React.PropTypes.bool,\n        noRequiredIndicator: React.PropTypes.bool,\n        min: React.PropTypes.number,\n        max: React.PropTypes.number,\n        requiredMessage: React.PropTypes.string,\n        invalidMessage: React.PropTypes.string,\n        validator: React.PropTypes.func,\n        onValidityChange: React.PropTypes.func,\n        alwaysRenderValidity: React.PropTypes.bool,\n        onAddNew: React.PropTypes.func,\n        onChange: React.PropTypes.func,\n        onClick: React.PropTypes.func\n    };\n\n    constructor(props) {\n        super(props);\n        this._huiComponent = null;\n        this._listeners = {};\n    }\n\n    testValidity() {\n        if (this.props.onValidityChange) {\n            let valid;\n            if (this._huiComponent.checkValidity) {\n                valid = this._huiComponent.checkValidity();\n            }\n            if (this._lastValidity !== valid) {\n                this._lastValidity = valid;\n                this.props.onValidityChange(valid);\n            }\n        }\n    }\n\n    updateAddNewPop() {\n        let addNewPopForm = this._huiComponent.querySelector('ha-popover > ha-popover-form'),\n            addNewPop;\n\n        if (addNewPopForm) {\n            addNewPop = addNewPopForm.parentElement;\n        }\n\n        if (addNewPop) {\n            this._huiComponent.addNewPopover = addNewPop;\n        }\n    }\n\n    componentDidMount() {\n        // With es6 syntax we have to bind the events to the react component instance\n        // https://facebook.github.io/react/docs/reusable-components.html#no-autobinding\n        // Event handler for add-new\n        const onAddNew = (event) => {\n            event.stopPropagation();\n            if (this.props.onAddNew) {\n                this.props.onAddNew(event);\n            }\n        };\n        this._listeners.onAddNew = onAddNew.bind(this);\n        this._huiComponent.addEventListener(\"add-new\", this._listeners.onAddNew);\n\n        // update web popover-form to react-compnent\n        if (this.props.addNew) {\n            this.updateAddNewPop();\n        }\n\n        // Event handler for change\n        const onChange = (event) => {\n            event.stopPropagation();\n            if (this.props.onChange) {\n                this.props.onChange(event);\n            }\n            this.testValidity();\n        };\n        this._listeners.onChange = onChange.bind(this);\n        this._huiComponent.addEventListener(\"change\", this._listeners.onChange);\n\n        // Event handler for click\n        const onClick = (event) => {\n            event.stopPropagation();\n            if (this.props.onClick) {\n                this.props.onClick(event);\n            }\n        };\n        this._listeners.onClick = onClick.bind(this);\n        this._huiComponent.addEventListener(\"click\", this._listeners.onClick);\n\n        // Stop validation tooltip show event propagation\n        const onShow = (event) => {\n            event.stopPropagation();\n        };\n        this._listeners.onShow = onShow.bind(this);\n        this._huiComponent.addEventListener(\"show\", this._listeners.onShow);\n\n        // Stop validation tooltip close event propagation\n        const onClose = (event) => {\n            event.stopPropagation();\n        };\n        this._listeners.onClose = onClose.bind(this);\n        this._huiComponent.addEventListener(\"close\", this._listeners.onClose);\n\n        // Stop validation tooltip dismiss event propagation\n        const onDismiss = (event) => {\n            event.stopPropagation();\n        };\n        this._listeners.onDismiss = onDismiss.bind(this);\n        this._huiComponent.addEventListener(\"dismiss\", this._listeners.onDismiss);\n\n        window.setTimeout(() => {\n            // We need the timeout so h-ui component checkValidity function is initialized\n            if (this.props.validator) {\n                this._huiComponent.validator = this.props.validator;\n            }\n            if (this.props.alwaysRenderValidity) {\n                this._huiComponent.reportValidity();\n            }\n            this.testValidity(); // We need to do initial notification of validity state.\n\n            // set the default value pass by property\n            if (this.props.value) {\n                this._huiComponent.value = this.props.value;\n            }\n        }, 0);\n    }\n\n    componentWillUnmount() {\n        this._huiComponent.removeEventListener(\"add-new\", this._listeners.onAddNew, false);\n        this._huiComponent.removeEventListener(\"change\", this._listeners.onChange, false);\n        this._huiComponent.removeEventListener(\"click\", this._listeners.onClick, false);\n        this._huiComponent.removeEventListener(\"show\", this._listeners.onShow, false);\n        this._huiComponent.removeEventListener(\"close\", this._listeners.onClose, false);\n        this._huiComponent.removeEventListener(\"dismiss\", this._listeners.onDismiss, false);\n    }\n\n    componentDidUpdate() {\n        if (this.props.validator) {\n            this._huiComponent.validator = this.props.validator;\n        }\n        if (this.props.alwaysRenderValidity) {\n            this._huiComponent.reportValidity();\n        }\n    }\n\n    handleRef = (c) => {\n        this._huiComponent = c;\n    };\n\n    render() {\n        /* jshint ignore:start */\n        return (\n            <ha-select ref={this.handleRef} class={this.props.className} {...this.props}>\n                {this.props.children}\n            </ha-select>\n        );\n        /* jshint ignore:end */\n    }\n}\n"]}