{"version":3,"sources":["../../../react-components/HAFlowStep.jsx"],"names":[],"mappings":"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","file":"HAFlowStep.js","sourcesContent":["import React from \"react\";\nimport \"hui/step-flow/flow-step\";\nimport {updateClassWithProps} from \"hui/core/utils\";\n\nexport default class HAFlowStep extends React.Component {\n    static propTypes = {\n        className: React.PropTypes.string,\n        id: React.PropTypes.string,\n        stepId: React.PropTypes.string,\n        showSaveForLaterButton: React.PropTypes.bool,\n        saveForLaterButtonText: React.PropTypes.string,\n        nextButtonText: React.PropTypes.string,\n        previousButtonText: React.PropTypes.string,\n        titleText: React.PropTypes.string,\n        subtitleText: React.PropTypes.string,\n        progressIndicatorText: React.PropTypes.string,\n        stepComplete: React.PropTypes.bool,\n        stepAvailable: React.PropTypes.bool,\n        hideProgressIndicator: React.PropTypes.bool,\n        hideProgressIndicatorItem: React.PropTypes.bool,\n        hideStepButtons: React.PropTypes.bool,\n        useCustomButtons: React.PropTypes.bool,\n        content: React.PropTypes.object,\n        validator: React.PropTypes.func,\n        beforeShowPromise: React.PropTypes.func\n    };\n\n    constructor(props) {\n        super(props);\n        this._huiComponent = null;\n        this.state = {\n            classAttributes: null\n        };\n    }\n\n    componentDidMount() {\n        this.setHuiProperties();\n        this.updateSection();\n\n        // merge pre-existing custom element classes with props\n        if (this.props.className) {\n            this.updateElementClasses();\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        this.setHuiProperties(prevProps);\n    }\n\n    // insert React render components into web component\n    updateSection() {\n        let flowSection;\n        if (this._huiComponent) {\n            flowSection = this._huiComponent.querySelectorAll('section');\n        }\n        if (flowSection && flowSection.length > 1) {\n            let children = Array.prototype.slice.call(flowSection[1].childNodes);\n            children.forEach(child => {\n                flowSection[0].appendChild(child);\n            });\n            this._huiComponent.removeChild(flowSection[1]);\n        }\n    }\n\n    setHuiProperties(prevProps = {}) {\n        if (this.props.validator) {\n            this._huiComponent.validator = this.props.validator;\n        }\n        if (this.props.beforeShowPromise) {\n            this._huiComponent.beforeShowPromise = this.props.beforeShowPromise;\n        }\n    }\n\n    // re-render when we have pre-existing classes and new props.className\n    updateElementClasses() {\n        const mergedClassString = updateClassWithProps(this._huiComponent, this.props.className);\n        if (mergedClassString) {\n            this.setState({\n                classAttributes: mergedClassString\n            });\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        // confirm that H-UI supported classes aren't erased on a props change\n        const existingClasses = this.state.classAttributes;\n        if (existingClasses !== nextProps.className) {\n            this.updateElementClasses();\n        }\n    }\n\n    handleRef = (c) => {\n        this._huiComponent = c;\n    };\n\n    render() {\n        /* jshint ignore:start */\n        return (\n            <ha-flow-step\n                ref={this.handleRef}\n                class={this.state.classAttributes}\n                {...this.props}>\n                {this.props.children}\n            </ha-flow-step>\n        );\n        /* jshint ignore:end */\n    }\n}\n"]}