{"version":3,"sources":["../../../react-components/HAInfoLink.jsx"],"names":[],"mappings":"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","file":"HAInfoLink.js","sourcesContent":["import React from \"react\";\nimport \"hui/info-link\";\nimport {getReactTypeName} from \"hui/core/utils\";\n\nexport default class HAInfoLink extends React.Component {\n    static propTypes = {\n        className: React.PropTypes.string,\n        children: function anonymous(props, propName, componentName) {\n            var prop = props[propName] || [],\n                types = [\"HAMessage\", \"HAText\"],\n                typesCopy = types.slice(),\n                typeName;\n\n            prop = Array.isArray(prop) ? prop : [prop];\n\n            for (var child in prop) {\n                typeName = getReactTypeName(prop[child]);\n                // Only accept a single child, of the appropriate type\n                if (types.indexOf(typeName) === -1) {\n                    return new Error(`${componentName}'s children can only have one instance of the following types: ${typesCopy.join(\", \")}`);\n                } else {\n                    types[types.indexOf(typeName)] = \"\";\n                }\n            }\n\n        },\n        onClick: React.PropTypes.func,\n        onClose: React.PropTypes.func,\n        onDismiss: React.PropTypes.func,\n        onShow: React.PropTypes.func\n    };\n\n    constructor(props) {\n        super(props);\n        this._huiComponent = null;\n        this._listeners = {};\n    }\n\n    componentDidMount() {\n        // Update react components to the web component\n        this.updateReactComponent();\n\n        // With es6 syntax we have to bind the events to the react component instance\n        // https://facebook.github.io/react/docs/reusable-components.html#no-autobinding\n        // Event handler for click\n        const onClick = (event) => {\n            event.stopPropagation();\n            if (this.props.onClick) {\n                this.props.onClick(event);\n            }\n        };\n        this._listeners.onClick = onClick.bind(this);\n        this._huiComponent.addEventListener(\"click\", this._listeners.onClick);\n\n        // Event handler for close\n        const onClose = (event) => {\n            event.stopPropagation();\n            if (this.props.onClose) {\n                this.props.onClose(event);\n            }\n        };\n        this._listeners.onClose = onClose.bind(this);\n        this._huiComponent.addEventListener(\"close\", this._listeners.onClose);\n\n        // Event handler for dismiss\n        const onDismiss = (event) => {\n            event.stopPropagation();\n            if (this.props.onDismiss) {\n                this.props.onDismiss(event);\n            }\n        };\n        this._listeners.onDismiss = onDismiss.bind(this);\n        this._huiComponent.addEventListener(\"dismiss\", this._listeners.onDismiss);\n\n        // Event handler for show\n        const onShow = (event) => {\n            event.stopPropagation();\n            if (this.props.onShow) {\n                this.props.onShow(event);\n            }\n        };\n        this._listeners.onShow = onShow.bind(this);\n        this._huiComponent.addEventListener(\"show\", this._listeners.onShow);\n\n    }\n\n    componentWillUnmount() {\n        this._huiComponent.removeEventListener(\"click\", this._listeners.onClick, false);\n        this._huiComponent.removeEventListener(\"close\", this._listeners.onClose, false);\n        this._huiComponent.removeEventListener(\"dismiss\", this._listeners.onDismiss, false);\n        this._huiComponent.removeEventListener(\"show\", this._listeners.onShow, false);\n    }\n\n    updateReactComponent() {\n        if (this.props.children) {\n            React.Children.forEach(this.props.children, child => {\n                if (getReactTypeName(child) === \"HAText\") {\n                    this._huiComponent.initializeLinkText();\n                }\n                if (getReactTypeName(child) === \"HAMessage\") {\n                    this._huiComponent.initializeMessage();\n                }\n            });\n        }\n    }\n\n    handleRef = (c) => {\n        this._huiComponent = c;\n    };\n\n    render() {\n        /* jshint ignore:start */\n        let {linkText, ...otherProps} = this.props;\n        // since IE11 preserve case sensitive of attributes, so convert linkText to lowercase when declarative\n        return (\n            <ha-info-link ref={this.handleRef} linktext={linkText} {...otherProps}>\n                {this.props.children}\n            </ha-info-link>\n        );\n        /* jshint ignore:end */\n    }\n}\n"]}