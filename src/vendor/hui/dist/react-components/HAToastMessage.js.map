{"version":3,"sources":["../../../react-components/HAToastMessage.jsx"],"names":[],"mappings":"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","file":"HAToastMessage.js","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"hui/toast-message\";\n\nexport default class HAToastMessage extends React.Component {\n    static propTypes = {\n        duration: React.PropTypes.oneOfType([React.PropTypes.number, React.PropTypes.string]),\n        dismissible: React.PropTypes.bool,\n        show: React.PropTypes.bool,\n        onShow: React.PropTypes.func,\n        onClose: React.PropTypes.func.isRequired, // used to set parent's state of show back to false\n        onDismiss: React.PropTypes.func\n    };\n\n    constructor(props) {\n        super(props);\n        this._huiComponent = null;\n        // keep track if we have set any event listeners on modal\n        this._listeners = {};\n    }\n\n    removeWebRenderComp() {\n        let wrapper = this._huiComponent.querySelectorAll('.toast-wrapper');\n        if (wrapper && wrapper.length > 1) {\n            this._huiComponent.removeChild(wrapper[0]);\n        }\n    }\n\n    componentDidMount() {\n        this.setupListeners();\n        if (this.props.show) {\n           this._huiComponent.show();\n        }\n        this.removeWebRenderComp();\n    }\n\n\n    componentDidUpdate(prevProps, prevState) {\n        if(this.props.show !== prevProps.show) {\n            if (this.props.show) {\n                this._huiComponent.show();\n              } else if (this.props.duration <= 0) { // only allow closing toasts that don't have a timout set\n                this._huiComponent.close();\n              }\n        }\n    }\n\n    componentWillUnmount() {\n        this._huiComponent.removeEventListener(\"show\", this._listeners.onShow, false); // clean up show listener\n        this._huiComponent.removeEventListener(\"close\", this._listeners.onClose, false); // clean up close listener\n        this._huiComponent.removeEventListener(\"dismiss\", this._listeners.onDismiss, false); // clean up dismiss listener\n    }\n\n    setupListeners() {\n        const onShow = (event) => {\n            event.stopPropagation();\n            if (this.props.onShow) {\n                this.props.onShow(event);\n            }\n        };\n        this._listeners.onShow = onShow.bind(this);\n        this._huiComponent.addEventListener(\"show\", this._listeners.onShow);\n\n        const onClose = (event) => {\n            event.stopPropagation();\n            this.props.onClose(event);\n        };\n        this._listeners.onClose = onClose.bind(this);\n        this._huiComponent.addEventListener(\"close\", this._listeners.onClose);\n\n        const onDismiss = (event) => {\n            event.stopPropagation();\n            if (this.props.onDismiss) {\n                this.props.onDismiss(event);\n            }\n        };\n        this._listeners.onDismiss = onDismiss.bind(this);\n        this._huiComponent.addEventListener(\"dismiss\", this._listeners.onDismiss);\n    }\n\n    handleRef = (c) => {\n        this._huiComponent = c;\n    };\n\n    render() {\n        /* jshint ignore:start */\n        return (\n            <ha-toast-message\n                ref={this.handleRef}\n                class={this.props.className}\n                {...this.props}\n             >\n                <div className=\"toast-wrapper\">\n                    <button aria-label=\"Close\" className=\"hi hi-close\"></button>\n                    <i className=\"hi hi-confirm hi-circle-check\"></i>\n                    <p>{this.props.children}</p>\n                </div>\n            </ha-toast-message>\n        );\n        /* jshint ignore:end */\n    }\n}\n"]}